From 34d914c931c6c7a1d67b0b8da0790cd9a9f2b10f Mon Sep 17 00:00:00 2001
From: Javier Marcet <javier@marcet.info>
Date: Fri, 21 Oct 2022 23:35:26 +0200
Subject: [PATCH] Revert "Replace setup.py with build"

This reverts commit fc50845c4af02fcee0c5218894b2b07a8a8940f8.
---
 Makefile                     |  6 +++---
 pyproject.toml               |  3 ---
 setup.py                     | 17 +++++++++++++++++
 3 files changed, 23 insertions(+), 3 deletions(-)
 delete mode 100644 pyproject.toml
 create mode 100644 setup.py

--- a/Makefile
+++ b/Makefile
@@ -54,7 +54,7 @@ clean:
 
 .PHONY: build
 build:
-	python -m build
+	python setup.py sdist bdist_wheel
 
 .PHONY: publish
 publish:
@@ -72,12 +72,12 @@ dev: instdev test
 .PHONY: instdev
 instdev:
 	pip install -r dev-requirements.txt
-	pip install -e .
+	python setup.py develop
 	@echo "$@ done."
 
 .PHONY: install
 install:
-	pip install .
+	python setup.py install
 	@echo "$@ done."
 
 .PHONY: clobber
--- a/pyproject.toml
+++ /dev/null
@@ -1,3 +0,0 @@
-[build-system]
-requires = ["setuptools"]
-build-backend = "setuptools.build_meta"
--- /dev/null
+++ b/setup.py
@@ -0,0 +1,17 @@
+# Copyright 2015-2020 Nir Cohen
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+# http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+from setuptools import setup
+
+setup()
